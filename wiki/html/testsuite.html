<h1>nrTEST</h1>
<p>This page needs work but here's the gist of what you need to know.</p>
<p>The test program is in <code>tests/nrTEST</code></p>
<p>If you have cloned the repository and you cd into tests, then you can run:</p>
<pre><code>NUMEROUSAPIKEY=~/.numerous ./nrTEST -D
</code></pre>
<p>The "-D" flag will make the test program execute using the local numerous.py library (in .. from the tests directory) and the local nr.py shell command (in ../shell-cmd from the tests directory) and it will run the tests twice - first with python version 2 and then with python version 3. </p>
<p>
You can use the "-Q" flag to run "quick". It's not really quick but it
does skip a few of the more time-intensive tests.
<p>
You can use the "-C" flag to "continue" even after certain errors. The
atomicity of ADD at the Numerous server still isn't 100% (as of this
writing) and so -C allows that part of the test suite to fail without
aborting the rest of the test.
<p>
You can use the "-4" flag to skip the throttling tests which are
especially time consuming. This is implied by -Q (so -4 skips a subset
of what -Q skips).
<p>
My normal mode for testing any changes is: <code>./nrTEST -CDQ</code>
and every now and then I'll leave out the -Q flag just to make sure I
haven't broken anything that is tested that way. If you leave out the
-C then your tests may fail if the numerous people haven't fixed the
current atomicity bugs in ADD.
<p>
It might be best to have a Numerous API Key for a "test" account
because this will end up making a lot of metrics in the account during
the test (though it does try to clean them up; frankly I just use my
normal account and every now and then I just have to clean it up by
hand if the test went awry).
